>⚠️ This project is in early development! In the meantime, enjoy this readme generated by Claude AI ⚠️

# Clay Compiler ESBuild

A powerful esbuild-based compiler for Clay applications with Vue.js support.

## Description

`@enercido/clay-compiler-esbuild` is a specialized compiler built on top of esbuild that provides seamless integration for Clay applications with comprehensive Vue.js support. It combines the blazing-fast performance of esbuild with enhanced capabilities for Vue components and modern web development workflows.

## Features

- ⚡️ High-performance compilation powered by esbuild
- 🎨 Advanced PostCSS processing with support for:
  - Nested styles
  - Variables
  - Mixins
  - Auto-prefixing
- 📦 Vue.js component compilation support
- 🔄 Built-in polyfills for browser compatibility
- 🛠️ Modern JavaScript transformation and bundling
- 📑 Smart module registry and dependency tracking
- 🔧 Automatic environment variables handling
- 📊 Efficient file bucketing system for improved loading
- 🔍 AST-based code analysis and transformation

## Latest Updates

- **Enhanced Vue SFC Styles Processing**: Improved handling and processing of styles in Vue Single File Components
- **Environment Variables Enhancement**: 
  - Better NODE_ENV handling in client initialization
  - Advanced detection and processing of environment variables
- **Static Files Support**: Added support for crucial static files including:
  - Client initialization
  - Prelude and postlude scripts
  - Clay Kiln edit functionality
  - Vue components
- **Global Files Integration**: Implementation of global files support across the application
- **Smart Module Registry**: Improved module dependency tracking and resolution
- **File Bucketing System**: Organizes files into categorical buckets (a-d, e-h, etc.) for optimized loading
- **Enhanced AST Processing**: Advanced code analysis using acorn and acorn-walk for better code transformation
- **Improved Build Pipeline**: Refined build process with better file handling and registry management

## Requirements

- Node.js >= 20.0.0
- npm >= 10.0.0

## Technical Stack

### Core Dependencies
- **esbuild** (v0.24.2) - Main bundling engine
- **Vue.js Tools**:
    - Vue Component Compiler (v4.2.x)
    - Vue Template Compiler (v2.7.x)

### PostCSS Integration
- postcss-import
- postcss-nested
- postcss-mixins
- postcss-simple-vars
- autoprefixer

### Code Analysis Tools
- acorn (v8.14.1)
- acorn-walk (v8.3.4)
- acorn-globals (v7.0.1)
- magic-string (v0.30.17)

### Browser Compatibility
Includes polyfills for:
- crypto
- buffer
- stream
- path
- os
- https
- vm
- zlib
- timers
- tty

### Utility Libraries
- lodash
- fs-extra
- globby
- magic-string
- hash-sum

## License

ISC License
